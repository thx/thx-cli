(self.webpackChunk_ali_mm_kit_magix=self.webpackChunk_ali_mm_kit_magix||[]).push([[986],{4624:(e,t,n)=>{var r={"./af":3715,"./af.js":3715,"./ar":3830,"./ar-dz":4919,"./ar-dz.js":4919,"./ar-kw":5049,"./ar-kw.js":5049,"./ar-ly":4900,"./ar-ly.js":4900,"./ar-ma":3203,"./ar-ma.js":3203,"./ar-sa":7679,"./ar-sa.js":7679,"./ar-tn":6593,"./ar-tn.js":6593,"./ar.js":3830,"./az":4459,"./az.js":4459,"./be":9261,"./be.js":9261,"./bg":1204,"./bg.js":1204,"./bm":3845,"./bm.js":3845,"./bn":4544,"./bn-bd":6090,"./bn-bd.js":6090,"./bn.js":4544,"./bo":311,"./bo.js":311,"./br":8336,"./br.js":8336,"./bs":7842,"./bs.js":7842,"./ca":5179,"./ca.js":5179,"./cs":5392,"./cs.js":5392,"./cv":1119,"./cv.js":1119,"./cy":6529,"./cy.js":6529,"./da":4752,"./da.js":4752,"./de":9383,"./de-at":3234,"./de-at.js":3234,"./de-ch":8235,"./de-ch.js":8235,"./de.js":9383,"./dv":7034,"./dv.js":7034,"./el":3982,"./el.js":3982,"./en-au":4142,"./en-au.js":4142,"./en-ca":5524,"./en-ca.js":5524,"./en-gb":1274,"./en-gb.js":1274,"./en-ie":6098,"./en-ie.js":6098,"./en-il":9251,"./en-il.js":9251,"./en-in":1165,"./en-in.js":1165,"./en-nz":3983,"./en-nz.js":3983,"./en-sg":5831,"./en-sg.js":5831,"./eo":4704,"./eo.js":4704,"./es":2487,"./es-do":8195,"./es-do.js":8195,"./es-mx":9703,"./es-mx.js":9703,"./es-us":9063,"./es-us.js":9063,"./es.js":2487,"./et":6811,"./et.js":6811,"./eu":4484,"./eu.js":4484,"./fa":2743,"./fa.js":2743,"./fi":3303,"./fi.js":3303,"./fil":8286,"./fil.js":8286,"./fo":2948,"./fo.js":2948,"./fr":9281,"./fr-ca":7720,"./fr-ca.js":7720,"./fr-ch":8106,"./fr-ch.js":8106,"./fr.js":9281,"./fy":2180,"./fy.js":2180,"./ga":9461,"./ga.js":9461,"./gd":3544,"./gd.js":3544,"./gl":3790,"./gl.js":3790,"./gom-deva":656,"./gom-deva.js":656,"./gom-latn":6677,"./gom-latn.js":6677,"./gu":3665,"./gu.js":3665,"./he":4653,"./he.js":4653,"./hi":6837,"./hi.js":6837,"./hr":2887,"./hr.js":2887,"./hu":9720,"./hu.js":9720,"./hy-am":7120,"./hy-am.js":7120,"./id":4981,"./id.js":4981,"./is":7593,"./is.js":7593,"./it":7658,"./it-ch":8275,"./it-ch.js":8275,"./it.js":7658,"./ja":2454,"./ja.js":2454,"./jv":9623,"./jv.js":9623,"./ka":9296,"./ka.js":9296,"./kk":6924,"./kk.js":6924,"./km":9971,"./km.js":9971,"./kn":6182,"./kn.js":6182,"./ko":4880,"./ko.js":4880,"./ku":5995,"./ku.js":5995,"./ky":8446,"./ky.js":8446,"./lb":2187,"./lb.js":2187,"./lo":6700,"./lo.js":6700,"./lt":8574,"./lt.js":8574,"./lv":9883,"./lv.js":9883,"./me":5212,"./me.js":5212,"./mi":2119,"./mi.js":2119,"./mk":9357,"./mk.js":9357,"./ml":7180,"./ml.js":7180,"./mn":4703,"./mn.js":4703,"./mr":3488,"./mr.js":3488,"./ms":5283,"./ms-my":4596,"./ms-my.js":4596,"./ms.js":5283,"./mt":2403,"./mt.js":2403,"./my":7867,"./my.js":7867,"./nb":8081,"./nb.js":8081,"./ne":9083,"./ne.js":9083,"./nl":8808,"./nl-be":725,"./nl-be.js":725,"./nl.js":8808,"./nn":2274,"./nn.js":2274,"./oc-lnc":2279,"./oc-lnc.js":2279,"./pa-in":9576,"./pa-in.js":9576,"./pl":5159,"./pl.js":5159,"./pt":9323,"./pt-br":657,"./pt-br.js":657,"./pt.js":9323,"./ro":9972,"./ro.js":9972,"./ru":7773,"./ru.js":7773,"./sd":7335,"./sd.js":7335,"./se":4249,"./se.js":4249,"./si":3744,"./si.js":3744,"./sk":9144,"./sk.js":9144,"./sl":2045,"./sl.js":2045,"./sq":9148,"./sq.js":9148,"./sr":4346,"./sr-cyrl":7601,"./sr-cyrl.js":7601,"./sr.js":4346,"./ss":1266,"./ss.js":1266,"./sv":3358,"./sv.js":3358,"./sw":673,"./sw.js":673,"./ta":4396,"./ta.js":4396,"./te":2549,"./te.js":2549,"./tet":654,"./tet.js":654,"./tg":574,"./tg.js":574,"./th":5319,"./th.js":5319,"./tk":7043,"./tk.js":7043,"./tl-ph":197,"./tl-ph.js":197,"./tlh":6937,"./tlh.js":6937,"./tr":1164,"./tr.js":1164,"./tzl":9527,"./tzl.js":9527,"./tzm":8825,"./tzm-latn":9245,"./tzm-latn.js":9245,"./tzm.js":8825,"./ug-cn":9417,"./ug-cn.js":9417,"./uk":3306,"./uk.js":3306,"./ur":3656,"./ur.js":3656,"./uz":7872,"./uz-latn":5661,"./uz-latn.js":5661,"./uz.js":7872,"./vi":9660,"./vi.js":9660,"./x-pseudo":3661,"./x-pseudo.js":3661,"./yo":6469,"./yo.js":6469,"./zh-cn":2453,"./zh-cn.js":2453,"./zh-hk":2782,"./zh-hk.js":2782,"./zh-mo":9302,"./zh-mo.js":9302,"./zh-tw":1291,"./zh-tw.js":1291};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=4624},6909:(e,t,n)=>{"use strict";n.r(t);var r=n(3804),o=n.n(r),a=n(6840),c=n(1214),i=n(7689);function s(e){var t=[],n=function(e,n){e=encodeURIComponent(e),n=encodeURIComponent(n),(e||n)&&t.push(e+(void 0===n?"":"="+n))};for(var r in e){var o=e[r];if(o&&o.constructor===Array)for(var a=0,c=o.length;a<c;a++)n(r,o[a]);else n(r,o)}return t.join("&")}n(9645);var l=n(1096),u=n.n(l),f=n(9285);u()(f.Z,{insert:"head",singleton:!1}),f.Z.locals;var p=n(7196),m=n.n(p),y=n(3484),h=n(8112);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w="global-toast-container",E=[],O=0;const x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var t,n,r,a,c,i=(a=s,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(a);if(c){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function s(){return b(this,s),i.apply(this,arguments)}return t=s,r=[{key:"run",value:function(e){var t=s.init();m().render(o().createElement(s,{visible:e.length>0,messages:e}),t)}},{key:"init",value:function(){var e=document.getElementById(w);return e||((e=document.createElement("div")).setAttribute("id",w),document.body.appendChild(e)),e}},{key:"show",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning",o="item-".concat(O++,"-").concat((new Date).getTime());for(E.unshift({id:o,message:e,level:r});E.length>10;)E.pop();return s.run(E),n&&setTimeout((function(){t.hide(o)}),3e3),o}},{key:"hide",value:function(e){E=E.filter((function(t){return t.id!==e})),s.run(E)}}],(n=[{key:"render",value:function(){return o().createElement(y.Z,{visible:this.props.visible,hasMask:!1,align:"tc tc",offset:[0,100]},o().createElement("ul",null,this.props.messages.map((function(e){return o().createElement("li",{key:e.id},o().createElement("div",{className:"global-toast"},o().createElement(h.Z,{type:e.level||"warning",title:"提示"},o().createElement("p",{className:"message-body",title:e.message},e.message))))}))))}}])&&v(t.prototype,n),r&&v(t,r),s}(o().Component);function P(e,t){return fetch(e,Object.assign({},{credentials:"same-origin"},t)).then((function(e){return e.json()})).then((function(e){if(e.success)return void 0!==e.data&&null!==e.data||(e.data=e.data||{}),e.data;x.show(e.message||"系统错误")})).catch((function(e){x.show(e.message)}))}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=s(t);return r=r?"?".concat(r):"",P("".concat(e).concat(r),n)}function _(e,t){var n={};for(var r in t)void 0!==t[r]&&(n[r]=t[r]);return P(e,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)})}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=window.RMX.project;const D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(u,e);var t,n,r,s,l=(r=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M(r);if(s){var n=M(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Z(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).state={isSpm:!0,commitMsg:""},t}return t=u,(n=[{key:"changeValue",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"exec",value:function(){var e=this.state,t=e.isSpm,n=e.commitMsg;n?this.props.emit("daily","magixDaily",{cwd:T.dir,branch:T.branch,message:n,nospm:!t,uncheck:!0}):x.show("请先填写提交信息","warning")}},{key:"render",value:function(){var e=this,t=this.props.status,n=this.state,r=n.isSpm,s=n.commitMsg;return o().createElement("div",{className:"task-detail"},o().createElement("div",{className:"action-head"},"开启之前，请填写daily配置项"),o().createElement("div",{className:"task-config"},o().createElement("span",{className:"task-config-label"},"执行打点任务"),o().createElement(a.Z,{className:"task-config-value",checked:r,onChange:function(t){return e.changeValue("isSpm",t)}}),o().createElement("br",null),o().createElement("span",{className:"task-config-textarea-label"},"commit信息"),o().createElement(c.Z.TextArea,{placeholder:"请输入commit信息",style:{width:"600px"},value:s,onChange:function(t){return e.changeValue("commitMsg",t)}})),o().createElement("div",{className:"action-btn"},o().createElement(i.Z,{disabled:1==t,onClick:function(){return e.exec()}},"发布到daily")))}}])&&N(t.prototype,n),u}(o().Component);var z=n(5885),A=n(4930),I=n(3924);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=z.Z.Tooltip;const G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(u,e);var t,n,r,s,l=(r=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(r);if(s){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return X(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).state={appPath:window.RMX.project.dir,port:"",ip:"",isHmr:!0,isHttps:!1,isDebug:!1,isDocs:!0,isDesiger:!0,ipList:[]},t}return t=u,(n=[{key:"componentDidMount",value:function(){var e=this;C("/extra/magix/config",{cwd:this.state.appPath}).then((function(t){if(t){var n=t.ipConfig||{},r=[];for(var o in n)r.push({label:o,value:n[o]});e.setState({port:t.matPort||"",ipList:r})}}))}},{key:"exec",value:function(){var e=this.state,t=e.port,n=e.ip,r=e.isHmr,o=e.isHttps,a=e.isDebug,c=e.isDocs,i=e.isDesiger;this.props.emit("dev","magixDev",{cwd:this.state.appPath,port:t,ip:n,isCloseHmr:!r,isHttps:o,isDebug:a,isCloseDocs:!c,isCloseDesiger:!i})}},{key:"stopExec",value:function(){this.props.emit("dev","magixDev",{cwd:this.state.appPath})}},{key:"changeValue",value:function(e,t){("port"!==e||/^[0-9]*$/.test(t))&&this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"render",value:function(){var e=this,t=this.props.status,n=this.state,r=n.port,s=n.ip,l=n.isHmr,u=n.isHttps,f=n.isDebug,p=n.isDocs,m=n.isDesiger,y=n.ipList;return n.log,o().createElement("div",{className:"task-detail"},o().createElement("div",{className:"action-head"},"开启之前，请填写dev配置项"),o().createElement("div",{className:"task-config"},o().createElement("span",{className:"task-config-label"},"端口号"),o().createElement(c.Z,{className:"task-config-value",value:r,onChange:function(t){return e.changeValue("port",t)}}),o().createElement("span",{className:"task-config-label"},"ip地址 ",o().createElement(L,{trigger:o().createElement(A.Z,{size:"xs",type:"help"}),align:"t"},'对接真实接口时的ip地址，格式为 "ip" 或者 "ip,域名" ，默认对接RAP时无此值')),o().createElement(I.Z,{className:"task-config-value",style:{width:"200px"},value:s,dataSource:y,onChange:function(t){return e.changeValue("ip",t)}}),o().createElement("span",{className:"task-config-tips"},"ip为空时，表示走rap"),o().createElement("br",null),o().createElement("span",{className:"task-config-label"},"HMR热更新"),o().createElement(a.Z,{className:"task-config-value",checked:l,onChange:function(t){return e.changeValue("isHmr",t)}}),o().createElement("span",{className:"task-config-label"},"反向代理https"),o().createElement(a.Z,{className:"task-config-value",checked:u,onChange:function(t){return e.changeValue("isHttps",t)}}),o().createElement("span",{className:"task-config-label"},"debug模式 ",o().createElement(L,{trigger:o().createElement(A.Z,{size:"xs",type:"help"}),align:"t"},"开启debug模式会校验rap接口等")),o().createElement(a.Z,{className:"task-config-value",checked:f,onChange:function(t){return e.changeValue("isDebug",t)}}),o().createElement("span",{className:"task-config-label"},"帮助文档提示"),o().createElement(a.Z,{className:"task-config-value",checked:p,onChange:function(t){return e.changeValue("isDocs",t)}}),o().createElement("span",{className:"task-config-label"},"magix-desiger"),o().createElement(a.Z,{className:"task-config-value",checked:m,onChange:function(t){return e.changeValue("isDesiger",t)}})),o().createElement("div",{className:"action-btn"},o().createElement(i.Z,{disabled:1==t,className:"_mr10",onClick:function(){return e.exec()}},"开启dev"),o().createElement(i.Z,{disabled:0==t,onClick:function(){return e.stopExec()}},"结束dev")))}}])&&V(t.prototype,n),u}(o().Component);var U=n(2598),q=n(8051);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=window.RMX.project.dir;const te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(r);if(a){var n=Y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return K(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).handleCommand=function(){var e=t.state.noMatchAPis,n=Q(t);if(e.length>0)var r=U.Z.confirm({title:"提醒",content:"RAP上有接口被删除或修改，确定要同步",onOk:function(){r.hide(),n.exec(),n.setState({noMatchAPis:[]})},onCancel:function(){r.hide()}});else n.exec()},t.state={models:[],repeatApis:[],originModels:[],noMatchAPis:[],canClick:!1,errorTip:""},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;C("/extra/magix/config",{cwd:ee}).then((function(t){t&&t.rapProjectId?e.checkModels():e.setState({errorTip:"还未配置rapProjectId"})}))}},{key:"checkModels",value:function(){var e=this;_("/extra/magix/check/models",{cwd:ee}).then((function(t){if(t&&t.data){var n=t.data.noMatchAPis&&t.data.noMatchAPis.length>0;e.setState({models:t.data.models||[],repeatApis:t.data.repeatApis||[],originModels:t.data.originModels||[],noMatchAPis:t.data.noMatchAPis||[],canClick:!0,errorTip:n?"":"本地跟RAP上的接口一致，无需同步"})}}))}},{key:"exec",value:function(){var e=this.state,t=e.models,n=e.repeatApis,r=e.originModels;this.props.emit("models","magixModels",{cwd:ee,models:t,repeatApis:n,originModels:r})}},{key:"showNoMatch",value:function(){var e=this.state.noMatchAPis,t=U.Z.show({title:"RAP上被删除或修改过的接口",content:o().createElement(q.Z,{dataSource:e,style:{width:600}},o().createElement(q.Z.Column,{title:"api名称",dataIndex:"name"}),o().createElement(q.Z.Column,{title:"方法名",dataIndex:"method"}),o().createElement(q.Z.Column,{title:"接口地址",dataIndex:"url"})),footer:o().createElement(i.Z,{onClick:function(){t.hide()}},"确定")})}},{key:"render",value:function(){var e=this,t=this.props.status,n=this.state,r=n.noMatchAPis,a=n.canClick;return n.errorTip,o().createElement("div",{className:"task-detail"},r.length>0?o().createElement("div",{className:"warning-list"},o().createElement("div",{className:"warning-link",onClick:function(){e.showNoMatch()}},"点击查看RAP上被删除或修改过的接口")):null,o().createElement("div",{className:"action-head"},"同步RAP上的接口配置到项目中"),o().createElement("div",{className:"action-btn"},o().createElement(i.Z,{disabled:!a||1==t,onClick:function(){return e.handleCommand()}},"开始同步")))}}])&&W(t.prototype,n),s}(o().Component);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=window.RMX.project.dir;const se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ce(r);if(a){var n=ce(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ae(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={canClick:!1,errorTip:""},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;C("/extra/magix/config",{cwd:ie}).then((function(t){if(t){var n="";t.iconfontId?t.iconfontPath||(n="还未配置iconfontPath"):n="还未配置iconfontId",e.setState({canClick:t.iconfontId&&t.iconfontPath,errorTip:n})}}))}},{key:"exec",value:function(){this.props.emit("iconfont","magixIconfont",{cwd:ie})}},{key:"check",value:function(){this.props.emit("iconfont","magixCheckIconfont",{cwd:ie})}},{key:"render",value:function(){var e=this,t=this.props.status,n=this.state,r=n.canClick,a=n.errorTip;return 1==t&&(this.hasCheckOk=!0),o().createElement("div",{className:"task-detail"},o().createElement("div",{className:"action-head"},"同步iconfont上的图标到项目中"),o().createElement("div",{className:"action-btn"},o().createElement(i.Z,{className:"_mr10",disabled:!r||1==t,onClick:function(){return e.check()}},"检测"),o().createElement(i.Z,{disabled:!r||1==t||!this.hasCheckOk,onClick:function(){return e.exec()}},"开始同步"),o().createElement("span",{className:"action-error"},a)))}}])&&re(t.prototype,n),s}(o().Component);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ye=window.RMX.project.dir;const he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=me(r);if(a){var n=me(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pe(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={removeSpm:!1,canClick:!1,errorTip:""},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;C("/extra/magix/config",{cwd:ye}).then((function(t){t&&e.setState({canClick:!!t.spma,errorTip:t.spma?"":"还未配置spma"})}))}},{key:"changeValue",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"exec",value:function(e){this.props.emit("spmlog","magixSpmlog",{cwd:ye,removeSpm:e})}},{key:"render",value:function(){var e=this,t=this.props.status,n=this.state,r=(n.removeSpm,n.canClick),a=n.errorTip;return o().createElement("div",{className:"task-detail"},o().createElement("div",{className:"action-head"},"追加spm打点，同时同步数据小站数据配置"),o().createElement("div",{className:"action-btn"},o().createElement(i.Z,{className:"_mr10",disabled:!r||1==t,onClick:function(){return e.exec(!1)}},"打点"),o().createElement(i.Z,{disabled:!r||1==t,onClick:function(){return e.exec(!0)}},"清空打点"),o().createElement("span",{className:"action-error"},a)))}}])&&ue(t.prototype,n),s}(o().Component);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=window.RMX.project.dir;const we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=je(r);if(a){var n=je(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ge(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={canClick:!1,errorTip:""},t}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;C("/extra/magix/config",{cwd:ke}).then((function(t){t&&e.setState({canClick:!!t.chartParkId,errorTip:t.chartParkId?"":"还未配置chartParkId"})}))}},{key:"exec",value:function(){this.props.emit("chartpark","magixChartpark",{cwd:ke})}},{key:"render",value:function(){var e=this,t=this.props.status,n=this.state,r=n.canClick,a=n.errorTip;return o().createElement("div",{className:"task-detail"},o().createElement("div",{className:"action-head"},"同步chartpark上的数据到项目中"),o().createElement("div",{className:"action-btn"},o().createElement(i.Z,{disabled:!r||1==t,onClick:function(){return e.exec()}},"开始同步"),o().createElement("span",{className:"action-error"},a)))}}])&&be(t.prototype,n),s}(o().Component);var Ee=n(8375);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=window.RMX.project.dir;const Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(l,e);var t,n,r,a,s=(r=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_e(r);if(a){var n=_e(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ce(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).state={name:"",list:[],canClick:!1,loading:!1},t}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;C("/extra/magix/list/gallery",{cwd:Se}).then((function(t){if(t&&t.length>0){for(var n=[],r=0;r<t.length;r++)if(t[r].list&&t[r].list.length>0)for(var o=0;o<t[r].list.length;o++)n.push({repoName:t[r].repoName,path:t[r].path,label:t[r].repoName+": "+t[r].list[o].name,name:t[r].list[o].name,value:t[r].list[o].name,version:t[r].list[o].version});e.setState({list:n})}}))}},{key:"changeValue",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"exec",value:function(){var e=this.state.name;this.props.emit("gallery","magixGallery",{cwd:Se,name:e})}},{key:"check",value:function(){var e=this,t=this.state.name;this.setState({loading:!0}),_("/extra/magix/check/gallery",{cwd:Se,name:t}).then((function(t){if(e.setState({loading:!1}),t&&t.length>0){for(var n=[],r=0;r<t.length;r++)if(t[r].modifyFiles&&t[r].modifyFiles.length>0)for(var o=0;o<t[r].modifyFiles.length;o++)n.push({galleryName:t[r].galleryName,name:t[r].modifyFiles[o].filePath,status:t[r].modifyFiles[o].type});e.showDiffGallery(n)}else e.exec()}))}},{key:"showDiffGallery",value:function(e){var t=this,n=U.Z.show({title:"更新过的组件",content:o().createElement(q.Z,{dataSource:e,style:{width:600}},o().createElement(q.Z.Column,{title:"组件名",dataIndex:"galleryName"}),o().createElement(q.Z.Column,{title:"路径",dataIndex:"name"}),o().createElement(q.Z.Column,{title:"状态",dataIndex:"status"})),footer:o().createElement("div",null,o().createElement(i.Z,{type:"primary",className:"_mr10",onClick:function(){n.hide(),t.exec()}},"确定"),o().createElement(i.Z,{onClick:function(){n.hide()}},"取消"))})}},{key:"showList",value:function(){var e=this.state.list,t=U.Z.show({title:"本地所有组件列表",content:o().createElement(q.Z,{dataSource:e,style:{width:600}},o().createElement(q.Z.Column,{title:"组件名",dataIndex:"name"}),o().createElement(q.Z.Column,{title:"版本",dataIndex:"version"}),o().createElement(q.Z.Column,{title:"组件库名",dataIndex:"repoName"}),o().createElement(q.Z.Column,{title:"安装路径",dataIndex:"path"})),footer:o().createElement(i.Z,{onClick:function(){t.hide()}},"确定")})}},{key:"render",value:function(){var e=this,t=(this.props.status,this.state),n=t.name,r=t.list,a=t.loading;return o().createElement("div",{className:"task-detail"},o().createElement(Ee.Z,{visible:a,fullScreen:!0,shape:"fusion-reactor"},r.length>0?o().createElement("div",{className:"warning-list"},o().createElement("div",{className:"warning-link",onClick:function(){e.showList()}},"点击查看本地所有组件列表")):null,o().createElement("div",{className:"action-head"},"同步gallery组件到项目中"),o().createElement("div",{className:"task-config"},o().createElement("span",{className:"task-config-label"},"组件"),o().createElement(c.Z,{className:"task-config-value",style:{width:"200px"},value:n,onChange:function(t){return e.changeValue("name",t)}}),o().createElement("span",{className:"task-config-tips"},"如果不填则是全量同步")),o().createElement("div",{className:"action-btn"},o().createElement(i.Z,{className:"_mr10",onClick:function(){return e.check()}},"执行"))))}}])&&xe(t.prototype,n),l}(o().Component);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ze=window.RMX.project;const Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(u,e);var t,n,r,s,l=(r=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=De(r);if(s){var n=De(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Te(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=l.call(this,e)).state={isSpm:!0,commitMsg:"",international:!1},t}return t=u,(n=[{key:"changeValue",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"exec",value:function(){var e=this.state,t=e.isSpm,n=e.commitMsg,r=e.international;n?this.props.emit("publish","magixPublish",{cwd:ze.dir,branch:ze.branch,message:n,international:r,nospm:!t,uncheck:!0}):x.show("请先填写提交信息","warning")}},{key:"render",value:function(){var e=this,t=this.props.status,n=this.state,r=n.isSpm,s=n.commitMsg,l=n.international;return o().createElement("div",{className:"task-detail"},o().createElement("div",{className:"action-head"},"开启之前，请填写publish配置项"),o().createElement("div",{className:"task-config"},o().createElement("span",{className:"task-config-label"},"发布前执行spm打点"),o().createElement(a.Z,{className:"task-config-value",checked:r,onChange:function(t){return e.changeValue("isSpm",t)}}),o().createElement("br",null),o().createElement("span",{className:"task-config-label"},"同时发布到国际版cdn"),o().createElement(a.Z,{className:"task-config-value",checked:l,onChange:function(t){return e.changeValue("international",t)}}),o().createElement("br",null),o().createElement("span",{className:"task-config-textarea-label"},"提交代码的commit信息"),o().createElement(c.Z.TextArea,{placeholder:"请输入commit信息",style:{width:"600px"},value:s,onChange:function(t){return e.changeValue("commitMsg",t)}})),o().createElement("div",{className:"action-btn"},o().createElement(i.Z,{disabled:1==t,onClick:function(){return e.exec()}},"发布")))}}])&&Ze(t.prototype,n),u}(o().Component);var Ie=n(9968);n(269),n(6380);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t,n){return t&&He(e.prototype,t),n&&He(e,n),e}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}o().Component,o().Component,o().Component,Ie.Z.Item;o().Component;const Je=[{type:"app.task",name:"dev",component:G,title:"本地开发"},{type:"app.task",name:"models",component:te,title:"同步 RAP"},{type:"app.task",name:"iconfont",component:se,title:"同步 Iconfont"},{type:"app.task",name:"chartpark",component:we,title:"同步 Charkpark"},{type:"app.task",name:"gallery",component:Ne,title:"同步 Gallery 组件"},{type:"app.task",name:"spmlog",component:he,title:"打点 spmlog"},{type:"app.task",name:"daily",component:D,title:"日常部署"},{type:"app.task",name:"publish",component:Ae,title:"正式部署"}];console.groupCollapsed("Magix Widgets"),console.log(Je),console.groupEnd(),window.RMX.reset(),Je.forEach((function(e){window.RMX.register(e)}))},9285:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3780),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".global-toast {\n  margin: 5px 0;\n}\n.global-toast .next-notice.next-notice-warning.next-notice-standalone {\n  border-width: 1px;\n  padding: 8px;\n}\n.global-toast .message-body {\n  max-width: 400px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  margin: 0;\n}",""]);const a=o}}]);